// ä¿®æ”¹ä¸ºå¸¦é”™è¯¯å¤„ç†çš„ç‰ˆæœ¬
async function getJoke() {
  const input = document.getElementById("input").value.trim();
  const output = document.getElementById("output");

  if (!input) {
    output.innerText = "è¯·è¾“å…¥ç‚¹ä»€ä¹ˆå§ï¼Œåˆ«è®©æˆ‘å¹²çªçœ¼ï¼";
    return;
  }

  try {
    output.innerText = "æ€è€ƒä¸­...ğŸ¤”";

    const response = await fetch(`/api/python1?input=${encodeURIComponent(input)}`);

    if (!response.ok) {
      throw new Error(`HTTPé”™è¯¯ ${response.status}`);
    }

    const data = await response.json();
    output.innerText = data.response || "å›å¤å†…å®¹è§£æå¤±è´¥";
  } catch (error) {
    output.innerText = `å‡ºé”™å•¦ï¼š${error.message}`;
  }
}